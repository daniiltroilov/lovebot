# 7667439532:AAFRPIc5dE2qLEn4jaw2XcOFLDDeqd4ErMQ
import asyncio
import random
from aiogram import Bot, Dispatcher, F
from aiogram.types import Message
from apscheduler.schedulers.asyncio import AsyncIOScheduler
from datetime import datetime
import logging
import pytz

API_TOKEN = '7667439532:AAFRPIc5dE2qLEn4jaw2XcOFLDDeqd4ErMQ'
ALLOWED_USER_ID = (611327348, 5792327667)  # โ ะทะฐะผะตะฝะธ ะฝะฐ ัะฒะพะน user_id
MSK = pytz.timezone('Europe/Moscow')

MORNING_MESSAGES = [
    # ... 30 ัััะตะฝะฝะธั ัะพะพะฑัะตะฝะธะน (ะฝะต ะฟะพะฒัะพััั ะทะดะตัั ัะฐะดะธ ะบัะฐัะบะพััะธ)
    "ะะพะฑัะพะต ัััะพ, ัะพะปะฝััะบะพ โ๏ธ",
    "ะัะพััะฟะฐะนัั, ะผะธั ะถะดัั ัะตะฑั ๐",
    "ะขั ะปัััะตะต, ััะพ ะผะพะณะปะพ ัะปััะธัััั ั ััะธะผ ัััะพะผ ๐",
    "ะก ะดะพะฑััะผ ัััะพะผ, ะบัะฐัะพััะปั ๐",
    "ะัััั ัะตะณะพะดะฝั ะฒัั ะฟะพะปััะธััั ๐ฏ",
    "ะขั ัะธัะตัั ะดะฐะถะต ะฒ ะฟะฐัะผััะฝัะน ะดะตะฝั ๐ฆ๏ธ",
    "ะะฐัะธะฝะฐะน ะดะตะฝั ั ัะปัะฑะบะธ ๐",
    "ะขั ัะธะปัะฝะฐั, ัะผะฝะฐั ะธ ะพัะตะฝั ะฝัะถะฝัะน ัะตะปะพะฒะตะบ ๐ช",
    "ะะดะพัะฝะธ ะณะปัะฑะถะต โ ััะพ ะทะฐะฟะฐั ะฝะพะฒัั ะฒะพะทะผะพะถะฝะพััะตะน ๐ธ",
    "ะขั ัะฟัะฐะฒะธัััั ัะพ ะฒัะตะผ, ััะพ ะฟัะธะณะพัะพะฒะธะป ะดะตะฝั ๐ก๏ธ",
    "ะัััั ััะพั ะดะตะฝั ะฑัะดะตั ะปัะณะบะธะผ โ",
    "ะขั ะดะตะปะฐะตัั ััะพั ะผะธั ะดะพะฑัะตะต ๐",
    "ะะตะฝั ะฝะฐัะธะฝะฐะตััั ั ัะตะฑั โ ะธ ััะพ ะบัััะพ โจ",
    "ะัััั ัะฒะพั ัััะพ ะฑัะดะตั ัะฐะบะธะผ ะถะต ััะฟะปัะผ, ะบะฐะบ ัั ๐",
    "ะะตะปะฐั ัะตะฑะต ัะฟะพะบะพะนััะฒะธั ะธ ัะฐะดะพััะธ ัะตะณะพะดะฝั ๐๏ธ",
    "ะขั ะฝะตะฒะตัะพััะฝะฐั, ะธ ััะพ ะฝะต ะพะฑััะถะดะฐะตััั ๐ฅ",
    "ะกะผะพััะธ ะฒ ะทะตัะบะฐะปะพ โ ัะฐะผ ะบะพัะธะบ ๐ซ",
    "ะฃะปัะฑะฝะธัั โ ัั ะถะธะฒััั! ๐",
    "ะขั ะฟัะตะบัะฐัะฝะฐ ะฟัะพััะพ ะฟะพัะพะผั, ััะพ ัั ะตััั ๐บ",
    "ะัััั ะฒัั ัะตะณะพะดะฝั ัะปะพะถะธััั ะธะดะตะฐะปัะฝะพ ๐งฉ",
    "ะขั ะทะฐัะปัะถะธะฒะฐะตัั ะฒัะตะณะพ ัะฐะผะพะณะพ ะปัััะตะณะพ ๐",
    "ะญัะพั ะดะตะฝั ะฑัะดะตั ัะฒะพะธะผ! ๐ฅ",
    "ะขั ะฝะต ะพะดะฝะฐ โ ั ะฒัะตะณะดะฐ ะทะดะตัั ๐พ",
    "ะขั ะฟัะธะฝะพัะธัั ัะฒะตั ๐ก",
    "ะัััั ะบะพัะต ะฑัะดะตั ะฒะบััะฝัะผ, ะฐ ะทะฐะดะฐัะธ โ ะปัะณะบะธะผะธ โ๐",
    "ะขั ะปัะฑะธะผะฐ ะผะฝะพั ะทะฐะนะบะฐ ๐",
    "ะัััั ะดะตะฝั ะฑัะดะตั ะดะพะฑััะผ, ะบะฐะบ ัั โค๏ธ",
    "ะขั ัะผะตะตัั ัะฐะดะพะฒะฐัั ะดััะณะธั โ ัะตะณะพะดะฝั ะฟะพะฑะฐะปัะน ัะตะฑั ๐ฐ",
    "ะขั ัะถะต ะผะพะฒะพะดะตั, ะฟัะพััะพ ะฟะพัะพะผั ััะพ ะฟัะพัะฝัะฒัั ๐",
    "ะกะตะณะพะดะฝั ะพัะปะธัะฝัะน ะดะตะฝั, ััะพะฑั ะฑััั ััะฐััะปะธะฒะพะน ๐",
]

NIGHT_MESSAGES = [
    # ... 30 ะฝะพัะฝัั ัะพะพะฑัะตะฝะธะน
    "ะกะฟะพะบะพะนะฝะพะน ะฝะพัะธ, ะฐะฝะณะตะปะพัะตะบ ะผะพะน ๐ด",
    "ะัััั ัะตะฑะต ะฟัะธัะฝะธััั ััะพ-ัะพ ะบัััะพะต ๐ค",
    "ะฝะะดะตััั ัั ะฒ ะฟัะตะบัะฐัะฝะพะผ ัะฝะต ๐",
    "ะะธั ะถะดัั ัะธะฑั ะทะฐะฒััะฐ โ ะพัะดะพัะฝะธ ๐",
    "ะกะฟะธ ัะฟะพะบะพะนะฝะพ, ั ะฟัะธัะผะพััั ๐พ",
    "ะัััั ะฝะพัั ะพะฑะฝะธะผะตั ัะตะฑั ะฝะตะถะฝะพ ๐",
    "ะขั ัะตะณะพะดะฝั ะผะพะปะพะดะตั. ะัั! ะขะพัะบะฐ. ๐",
    "ะัััั ัะตะฑะต ัะฝัััั ะทะฒัะทะดะพัะบะธ โจ",
    "ะขั ะฒ ะฑะตะทะพะฟะฐัะฝะพััะธ, ัะฟะธ ะบัะตะฟะบะพ ๐๏ธ",
    "ะัััั ะบะฐะถะดัะน ัะพะฝ ะฑัะดะตั ะดะพะฑััะผ ๐",
    "ะขั ะฟัะธะฝะตัะปะฐ ัะฒะตั ะฒ ััะพั ะดะตะฝั โ ัะตะฟะตัั ะพัะดััะฐะน ๐",
    "ะฃััะฐะปะฐ ะฑััั ะปัััะตะน ะดะปั ะผะตะฝั? ๐ก",
    "ะขั ัะดะตะปะฐะปะฐ ะฒัั, ััะพ ะผะพะณะปะฐ โ ัะตะฟะตัั ัะฟะธ ๐ค",
    "ะฏ ะณะพัะถััั ัะพะฑะพะน ๐",
    "ะขั ะฝะตะฒะตัะพััะฝะพ ัะตะฝะฝะฐ, ะดะฐะถะต ะบะพะณะดะฐ ัะฟะธัั ๐",
    "ะะฐััะฟะฐะน ั ะปัะณะบะธะผ ัะตัะดัะตะผ ๐",
    "ะขั ะดะพััะพะธะฝะฝะฐ ัะฐะผะพะณะพ ะผัะณะบะพะณะพ ัะฝะฐ ๐๏ธ",
    "ะัััั ะปัะฝะฐ ัะฟะพัั ัะตะฑะต ะบะพะปัะฑะตะปัะฝัั ๐๐ถ",
    "ะะพัั โ ััะพ ะฟะพะดะฐัะพะบ ะดะปั ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ๐",
    "ะขั ะฟัะธะฝัั ะดะพะฑัะพ โ ะพะฝะพ ะฒะตัะฝัััั ๐ซ",
    "ะขั ัะผะฝะธัะฐ. ะัะดััะฐะน ๐",
    "ะัััั ััะตะฒะพะณะธ ะธััะตะทะฝัั ะฒะพ ัะฝะต ๐ฌ๏ธ",
    "ะกะฟะพะบะพะนะฝะพะน ะฝะพัะธ, ะฟัะบะฐะปะบะฐ ะดะฝั ๐",
    "ะขั ะฝัะถะตะฝ ััะพะผั ะผะธัั โ ะทะฐะฒััะฐ ะฟัะพะดะพะปะถะธะผ ๐ช",
    "ะัั ะฑัะดะตั ัะพัะพัะพ. ะกะฟะธ ๐๏ธ",
    "ะขั ะฝะต ะพะดะธะฝ โ ั ััะดะพะผ ๐ป",
    "ะกะฟะพะบะพะนะฝะพะณะพ ัะฝะฐ ะธ ัะปะฐะดะบะธั ะณััะท ๐ฌ",
    "ะขั โ ัะฒะตั ะดะฐะถะต ะฒ ัะตะผะฝะพัะต ๐ซ",
    "ะัะฟัััะธ ะผััะปะธ, ะฟัะพััะพ ะพัะดััะฐะน ๐",
    "ะกะบะพัะพ ัััะพ, ะฐ ะฟะพะบะฐ โ ะพัะดััะฐะน โ๏ธ",
]

logging.basicConfig(level=logging.INFO)

bot = Bot(token=API_TOKEN)
dp = Dispatcher()
scheduler = AsyncIOScheduler()

async def send_morning_message():
    try:
        msg = random.choice(MORNING_MESSAGES)
        for user_id in ALLOWED_USER_ID:
            await bot.send_message(user_id, f"โ๏ธ {msg}")
    except Exception as e:
        logging.error(f"ะัะธะฑะบะฐ ัััะตะฝะฝะตะณะพ ัะพะพะฑัะตะฝะธั: {e}")

async def send_night_message():
    
    try:
        msg = random.choice(NIGHT_MESSAGES)
        for user_id in ALLOWED_USER_ID:
            await bot.send_message(user_id, f"๐ {msg}")
    except Exception as e:
        logging.error(f"ะัะธะฑะบะฐ ะฝะพัะฝะพะณะพ ัะพะพะฑัะตะฝะธั: {e}")

# ะะตะฐะบัะธั ะฝะฐ ะปัะฑัะต ะฒัะพะดััะธะต ัะพะพะฑัะตะฝะธั
@dp.message(F.text)
async def handle_message(message: Message):
    if message.from_user.id in ALLOWED_USER_ID:
        await message.answer("ะขั ะฝะธะบะพะณะดะฐ ะฝะต ะทะฐะฑัะดะตัั ัะฐะบะพะณะพ ะฟัะธะดััะบะฐ ะบะฐะบ ั ๐")
    else:
        await message.answer("ะขั ะฝะต ะผะพะน ะปัะฑะธะผัะน ัะตะปะพะฒะตะบ ๐คฌ๐คฌ๐คฌ")

async def main():
    logging.info("ะะพั ะทะฐะฟััะบะฐะตััั...")
    scheduler.add_job(send_morning_message, 'cron', hour=11, minute=0, timezone=MSK)
    scheduler.add_job(send_night_message, 'cron', hour=3, minute=0, timezone=MSK)
    scheduler.add_job(send_night_message, 'cron', hour=8, minute=0, timezone=MSK)
    scheduler.start()
    logging.info("ะะพั ัะฐะฑะพัะฐะตั...")
    await dp.start_polling(bot)

if __name__ == '__main__':
    asyncio.run(main())

